"0","library(httr)"
"2","Warning message:
"
"2","In gpars[[gparname]] :"
"2"," reached elapsed time limit
"
"0","library(jsonlite)"
"0","library(tidyverse)"
"0",""
"0","historic_state_data_url <- ""https://api.covidactnow.org/v2/states.timeseries.json?apiKey=554e57bf138742219dc09545837e9228"""
"0","raw_data <- GET(historic_state_data_url)"
"0","data <- fromJSON(rawToChar(raw_data$content))"
"0","glimpse(data)"
"1","Rows: 53"
"1",""
"1","
"
"1","Columns: 25"
"1",""
"1","
"
"1","$ fips                           [3m[38;5;246m<chr>[39m[23m ""02"", ""01"", ""05"", ""04"", ""06"", ""08"", ""09"", ""11"", ""10"", ""12â€¦
$ country                        [3m[38;5;246m<chr>[39m[23m ""US"", ""US"", ""US"", ""US"", ""US"", ""US"", ""US"", ""US"", ""US"", ""USâ€¦
$ state                          [3m[38;5;246m<chr>[39m[23m ""AK"", ""AL"", ""AR"", ""AZ"", ""CA"", ""CO"", ""CT"", ""DC"", ""DE"", ""FLâ€¦
$ county                         [3m[38;5;246m<lgl>[39m[23m NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦
$ hsa                            [3m[38;5;246m<lgl>[39m[23m NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦
$ hsaName                        [3m[38;5;246m<lgl>[39m[23m NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦
$ level                          [3m[38;5;246m<chr>[39m[23m ""state"", ""state"", ""state"", ""state"", ""state"", ""state"", ""stâ€¦
$ lat                            [3m[38;5;246m<lgl>[39m[23m NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦
$ locationId                     [3m[38;5;246m<chr>[39m[23m ""iso1:us#iso2:us-ak"", ""iso1:us#iso2:us-al"", ""iso1:us#iso2â€¦
$ long                           [3m[38;5;246m<lgl>[39m[23m NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦
$ population                     [3m[38;5;246m<int>[39m[23m 731545, 4903185, 3017804, 7278717, 39512223, 5758736, 356â€¦
$ hsaPopulation                  [3m[38;5;246m<int>[39m[23m NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, Nâ€¦
$ metrics                        [3m[38;5;246m<df[,14]>[39m[23m <data.frame[32 x 14]>
$ riskLevels                     [3m[38;5;246m<df[,6]>[39m[23m <data.frame[32 x 6]>
$ cdcTransmissionLevel           [3m[38;5;246m<int>[39m[23m 2, 4, 3, 3, 1, 4, 4, 1, 4, 4, 2, 3, 4, 3, 2, 3, 3, 3,â€¦
$ communityLevels                [3m[38;5;246m<df[,2]>[39m[23m <data.frame[32 x 2]>
$ actuals                        [3m[38;5;246m<df[,19]>[39m[23m <data.frame[32 x 19]>
$ annotations                    [3m[38;5;246m<df[,30]>[39m[23m <data.frame[32 x 30]>
$ lastUpdatedDate                [3m[38;5;246m<chr>[39m[23m ""2023-10-30"", ""2023-10-30"", ""2023-10-30"", ""2023-10-30""â€¦
$ url                            [3m[38;5;246m<chr>[39m[23m ""https://covidactnow.org/us/alaska-ak"", ""https://covidactâ€¦
$ metricsTimeseries              [3m[38;5;246m<list>[39m[23m [<data.frame[1334 x 14]>], [<data.frame[1330 x 14]>], â€¦
$ actualsTimeseries              [3m[38;5;246m<list>[39m[23m [<data.frame[1334 x 20]>], [<data.frame[1330 x 20]>],â€¦
$ riskLevelsTimeseries           [3m[38;5;246m<list>[39m[23m [<data.frame[1334 x 3]>], [<data.frame[1330 x 3]>], [â€¦
$ cdcTransmissionLevelTimeseries [3m[38;5;246m<list>[39m[23m [<data.frame[1334 x 2]>], [<data.frame[1330 x 2]>], [<datâ€¦
$ communityLevelsTimeseries      [3m[38;5;246m<list>[39m[23m [<data.frame[1334 x 3]>], [<data.frame[1330 x 3]>], [<datâ€¦"
"1",""
"1","
"
"0","time_series <- data %>%"
"0","  unnest(actualsTimeseries)"
"0",""
"0","time_series_transmission <- tibble(Date=time_series$cdcTransmissionLevelTimeseries[[which(data$state==""CA"")]]$date)"
"0","time_series_transmission$Alaska <- time_series$cdcTransmissionLevelTimeseries[[which(data$state==""AK"")]]$cdcTransmissionLevel"
"0","time_series_transmission$California <- time_series$cdcTransmissionLevelTimeseries[[which(data$state==""CA"")]]$cdcTransmissionLevel"
"0","time_series_transmission$New_Jersey <- time_series$cdcTransmissionLevelTimeseries[[which(data$state==""NJ"")]]$cdcTransmissionLevel"
"0","time_series_transmission$Tennessee <- time_series$cdcTransmissionLevelTimeseries[[which(data$state==""TN"")]]$cdcTransmissionLevel"
"0","time_series_transmission$District_of_Columbia <- time_series$cdcTransmissionLevelTimeseries[[which(data$state==""DC"")]]$cdcTransmissionLevel"
"0","print(head(time_series_transmission))"
